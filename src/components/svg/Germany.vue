<template>
  <div class="map-wrapper" id="germany_lines">
    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1920 1080" >
    
      <g id="other_connections">
        <g class="linea" id="linea_7">
          <path class="other_conn_spot" d="m930.1,494.77l-.14-49.29-7.25-7.25" />
        </g>
        <g class="punto" id="punto_7">    
          <circle class="other_conn_line" cx="922.36" cy="438.02" r=".25" />
          <circle class="other_conn_inner" cx="922.36" cy="438.02" r=".2" />
        </g>

        <g class="linea" id="linea_8">
          <path class="other_conn_spot" d="m921.66,445.49l8.36,8.13" />
        </g> 
        <g class="punto" id="punto_8">
          <circle class="other_conn_line" cx="921.33" cy="445.03" r=".25" />
          <circle class="other_conn_inner" cx="921.33" cy="445.03" r=".2" />
        </g>

        <g class="linea" id="linea_9">
          <path class="other_conn_spot" d="m940.51,455.97l-.44.34-10.13,10.13" />
        </g>
        <g class="punto" id="punto_9">
          <circle class="other_conn_line" cx="940.98" cy="455.58" r=".25" />
          <circle class="other_conn_inner" cx="940.98" cy="455.58" r=".2" />
        </g>

        <g class="linea" id="linea_10">
          <path class="other_conn_spot" d="m935.42,465.88l-5.48,5.48" />
        </g>
        <g class="punto" id="punto_10">
          <circle class="other_conn_line" cx="935.51" cy="465.79" r=".25" />
          <circle class="other_conn_inner" cx="935.51" cy="465.79" r=".2" />
        </g>

        <g class="linea" id="linea_11">
          <path class="other_conn_spot" d="m903.12,465.33l16.55-15.32h64.17l16.9-17.79" />
        </g>
        <g class="punto" id="punto_11">
          <circle class="other_conn_line" cx="1000.88" cy="431.84" r=".25" />
          <circle class="other_conn_inner" cx="1000.88" cy="431.84" r=".2" />
        </g>
      </g>

      <g class="linea" id="linea_1">
        <path mask="url(#linea1_mmask)" class="medium_line" d="m940.02,511.99h-9.49l-17.9-17.83v-6.52" />
        <mask id="linea1_mmask" maskUnits="userSpaceOnUse">
          <path id="linea1_mask" class="medium_line" d="m940.02,511.99h-9.49l-17.9-17.83v-6.52" />
        </mask>
      </g>
      <g class="punto" id="punto_1">
        <path class="medium_spot" d="m912.63,485.93c.6,0,1.08.48,1.08,1.08s-.48,1.08-1.08,1.08-1.08-.48-1.08-1.08h0c0-.6.48-1.08,1.08-1.08Z" />
      </g>

      <g class="linea" id="linea_2">
        <path mask="url(#linea2_mmask)" class="small_line" d="m935.05,510.28h-3.74l-12.8-12.8v-9.98l-15.93-15.93v-5.78" />
        <mask id="linea2_mmask" maskUnits="userSpaceOnUse">
          <path id="linea2_mask" class="small_line" d="m935.05,510.28h-3.74l-12.8-12.8v-9.98l-15.93-15.93v-5.78" />
        </mask>
      </g>
      <g class="punto" id="punto_2">
        <path class="small_spot" d="m902.59,464.92c.48,0,.88.39.88.88s-.39.88-.88.88-.88-.39-.88-.88.39-.88.88-.88Z" />
      </g>

      <g class="linea" id="linea_3">
        <path mask="url(#linea3_mmask)" class="small_line_full" d="m937.92,511.32l-1.6-2.39h-4.05l-11.6-11.36v-7.09" />
        <mask id="linea3_mmask" maskUnits="userSpaceOnUse">
          <path id="linea3_mask" class="small_line_full" d="m937.92,511.32l-1.6-2.39h-4.05l-11.6-11.36v-7.09" />
        </mask>
      </g>
      <g class="punto" id="punto_3">
        <path class="small_spot" d="m920.68,489.35c.48,0,.88.39.88.88s-.39.88-.88.88-.88-.39-.88-.88.39-.88.88-.88Z" />
      </g>

      <g class="linea" id="linea_4">
        <path mask="url(#linea4_mmask)" class="big_line" d="m936.9,509.76l-9.63-9.16-.27-9.27-18.19-17.48-4.18-4.18" />
        <mask id="linea4_mmask" maskUnits="userSpaceOnUse">
          <path id="linea4_mask" class="big_line" d="m936.9,509.76l-9.63-9.16-.27-9.27-18.19-17.48-4.18-4.18" />
        </mask>
      </g>
      <g class="punto" id="punto_4">
        <path class="big_spot" d="m904.54,468.53c.6,0,1.08.48,1.08,1.08s-.48,1.08-1.08,1.08-1.08-.48-1.08-1.08h0c0-.6.48-1.08,1.08-1.08Z" />
      </g>

      <g class="linea" id="linea_5">
        <path mask="url(#linea5_mmask)" class="medium_line" d="m937.18,507.88l-6.83-6.93v-6.27" />
        <mask id="linea5_mmask" maskUnits="userSpaceOnUse">
          <path id="linea5_mask" class="medium_line" d="m937.18,507.88l-6.83-6.93v-6.27" />
        </mask>
      </g>
      <g class="punto" id="punto_5">
        <path class="medium_spot" d="m930.35,493.19c.6,0,1.08.48,1.08,1.08s-.48,1.08-1.08,1.08-1.08-.48-1.08-1.08h0c0-.6.48-1.08,1.08-1.08Z" />
      </g>

      <g class="linea" id="linea_6">
        <path mask="url(#linea6_mmask)" class="small_line_full" d="m941.43,508.46l-3.8-3.69v-11.06" />
        <mask id="linea6_mmask" maskUnits="userSpaceOnUse">
          <path id="linea6_mask" class="small_line_full" d="m941.43,508.46l-3.8-3.69v-11.06" />
        </mask>
      </g>
      <g class="punto" id="punto_6">
        <path class="small_spot" d="m937.72,492.42c.42,0,.77.33.77.76,0,.42-.33.77-.76.77-.42,0-.77-.33-.77-.76,0,0,0,0,0,0,0-.42.34-.76.76-.76h0Z" />
      </g>

    </svg>
  </div>
</template>

<script>
import gsap from 'gsap';
import { DrawSVGPlugin } from "../../libs/DrawSVGPlugin"

export default {
    name: 'Germany',
    props: {
      zoomlevel: String,
      state: Object,
      io: String,
      d: Number
    },
    mounted() {
      gsap.registerPlugin(DrawSVGPlugin);
      gsap.to('#germany_lines svg', { scale: this.state.zoom, x: this.state.x, y: this.state.y, duration: 0 })

      gsap.fromTo("#germany_lines svg > .linea mask path", { drawSVG: "0% 0%" }, { duration: 1, drawSVG: "0% 100%", stagger: .2, delay: this.d });
      gsap.from("#germany_lines svg > .punto > *", { duration: .3, stagger: .2, opacity: 0, delay: this.d+1 });

      gsap.from("#germany_lines #other_connections path", { duration: 0.5, opacity: 0, delay: this.d+1.5 });
      gsap.from("#germany_lines #other_connections circle", { duration: 0.5, opacity: 0, delay: this.d+1.5 });
    }
}
</script>

<style scoped>
</style>